```py
"""
Step 2: Deployment Platforms Comparison
- Compare different deployment options
- Show deployment commands
- Explain pros and cons
"""

import streamlit as st

st.set_page_config(page_title="Production Deployment", page_icon="üöÄ", layout="wide")

st.title("üöÄ Production Deployment Guide")

# STEP 1: Create tabs for different platforms
tab1, tab2, tab3, tab4 = st.tabs([
    "Streamlit Cloud",
    "Heroku",
    "AWS/Azure/GCP",
    "Docker"
])

# STEP 2: Streamlit Community Cloud
with tab1:
    st.header("üéà Streamlit Community Cloud")

    st.markdown("""
    ### Overview

    The easiest way to deploy Streamlit apps. Free for public repositories!

    ### Pros ‚úÖ
    - Completely free for public apps
    - Direct GitHub integration
    - Automatic deployments on git push
    - No server management
    - Built specifically for Streamlit
    - Easy secrets management

    ### Cons ‚ùå
    - Limited to public GitHub repos (free tier)
    - Resource limitations
    - Less customization
    - Streamlit-only (can't host other apps)

    ### Requirements
    - GitHub account
    - Public repository (or paid plan)
    - `requirements.txt` file
    """)

    st.subheader("Deployment Steps")

    st.code("""
# 1. Create requirements.txt
streamlit
pandas
plotly

# 2. Push to GitHub
git add .
git commit -m "Prepare for deployment"
git push origin main

# 3. Visit share.streamlit.io
# 4. Connect your GitHub account
# 5. Select repository and branch
# 6. Click "Deploy"!

# That's it! Your app is live!
    """)

    st.info("üéØ **Best for**: Quick demos, portfolios, public tools")

# STEP 3: Heroku
with tab2:
    st.header("üü£ Heroku")

    st.markdown("""
    ### Overview

    Popular Platform-as-a-Service (PaaS) with free tier and easy scaling.

    ### Pros ‚úÖ
    - Free tier available
    - Custom domains
    - Add-ons (databases, monitoring)
    - Support for multiple languages
    - Automatic SSL
    - CI/CD integration

    ### Cons ‚ùå
    - Free tier sleeps after 30 min inactivity
    - Slower cold starts
    - More complex than Streamlit Cloud
    - Costs increase with usage

    ### Requirements
    - Heroku account
    - `requirements.txt`
    - `Procfile`
    - `setup.sh`
    """)

    st.subheader("Required Files")

    col1, col2 = st.columns(2)

    with col1:
        st.write("**Procfile**")
        st.code("""
web: sh setup.sh && streamlit run app.py
        """)

    with col2:
        st.write("**setup.sh**")
        st.code("""
mkdir -p ~/.streamlit/

echo "\\
[server]\\n\\
headless = true\\n\\
port = $PORT\\n\\
enableCORS = false\\n\\
\\n\\
" > ~/.streamlit/config.toml
        """)

    st.subheader("Deployment Steps")

    st.code("""
# 1. Install Heroku CLI
# Download from: https://devcenter.heroku.com/articles/heroku-cli

# 2. Login to Heroku
heroku login

# 3. Create Heroku app
heroku create my-streamlit-app

# 4. Deploy
git push heroku main

# 5. Open app
heroku open
    """)

    st.info("üéØ **Best for**: Production apps, custom domains, database integration")

# STEP 4: Cloud Providers
with tab3:
    st.header("‚òÅÔ∏è AWS / Azure / GCP")

    st.markdown("""
    ### Overview

    Enterprise-grade cloud platforms with extensive services and global reach.

    ### Pros ‚úÖ
    - Highly scalable
    - Enterprise features
    - Global infrastructure
    - Full control
    - Advanced networking
    - Integration with other cloud services

    ### Cons ‚ùå
    - More complex setup
    - Higher costs
    - Requires cloud expertise
    - More maintenance
    - Steeper learning curve

    ### Common Services

    **AWS:**
    - EC2 (Virtual machines)
    - ECS/EKS (Container orchestration)
    - Elastic Beanstalk (PaaS)
    - Lambda (Serverless)

    **Azure:**
    - App Service
    - Container Instances
    - AKS (Kubernetes)
    - Functions

    **GCP:**
    - Compute Engine
    - App Engine
    - Cloud Run
    - GKE (Kubernetes)
    """)

    st.subheader("Example: AWS EC2 Deployment")

    st.code("""
# 1. Launch EC2 instance
# - Choose Ubuntu/Amazon Linux
# - Open port 8501 in security group

# 2. SSH into instance
ssh -i key.pem ubuntu@ec2-instance-ip

# 3. Install dependencies
sudo apt update
sudo apt install python3-pip
pip3 install streamlit

# 4. Upload your app
scp -i key.pem app.py ubuntu@ec2-instance-ip:~

# 5. Run Streamlit
streamlit run app.py --server.port 8501

# 6. Access at: http://ec2-instance-ip:8501
    """)

    st.info("üéØ **Best for**: Enterprise applications, high-traffic sites, complex infrastructure")

# STEP 5: Docker
with tab4:
    st.header("üê≥ Docker")

    st.markdown("""
    ### Overview

    Containerize your app for consistent deployment anywhere.

    ### Pros ‚úÖ
    - Consistent environments
    - Portable across platforms
    - Easy scaling
    - Version control
    - Isolation
    - Works with any deployment platform

    ### Cons ‚ùå
    - Requires Docker knowledge
    - Additional complexity
    - Larger deployment size
    - Learning curve

    ### Requirements
    - Docker installed
    - Dockerfile
    - requirements.txt
    """)

    st.subheader("Dockerfile")

    st.code("""
FROM python:3.9-slim

# Set working directory
WORKDIR /app

# Copy requirements
COPY requirements.txt .

# Install dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Copy app files
COPY . .

# Expose Streamlit port
EXPOSE 8501

# Health check
HEALTHCHECK CMD curl --fail http://localhost:8501/_stcore/health

# Run Streamlit
ENTRYPOINT ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]
    """)

    st.subheader("Deployment Steps")

    st.code("""
# 1. Build Docker image
docker build -t my-streamlit-app .

# 2. Test locally
docker run -p 8501:8501 my-streamlit-app

# 3. Push to registry (optional)
docker tag my-streamlit-app username/my-streamlit-app
docker push username/my-streamlit-app

# 4. Deploy to cloud
# - Deploy to AWS ECS
# - Deploy to Google Cloud Run
# - Deploy to Azure Container Instances
# - Deploy to Kubernetes
    """)

    st.info("üéØ **Best for**: Microservices, multi-platform deployment, DevOps workflows")

# STEP 6: Comparison table
st.divider()

st.subheader("üìä Platform Comparison")

comparison_df = st.dataframe({
    'Platform': ['Streamlit Cloud', 'Heroku', 'AWS/Azure/GCP', 'Docker'],
    'Difficulty': ['‚≠ê', '‚≠ê‚≠ê', '‚≠ê‚≠ê‚≠ê‚≠ê', '‚≠ê‚≠ê‚≠ê'],
    'Cost': ['Free', 'Free/Paid', 'Paid', 'Varies'],
    'Setup Time': ['5 min', '15 min', '1-2 hours', '30 min'],
    'Best For': ['Demos', 'Production', 'Enterprise', 'Portability']
}, use_container_width=True, hide_index=True)

st.divider()
st.caption("Built with Streamlit üéà")

```