```py
"""
Step 3: Implement UPDATE Operation
- Add form to update existing users
- Find user by ID
- Modify user data
"""

import streamlit as st
import sqlite3
import pandas as pd

st.set_page_config(page_title="Database Integration", page_icon="üóÑÔ∏è", layout="wide")

st.title("üóÑÔ∏è Database Integration")

@st.cache_resource
def get_connection():
    conn = sqlite3.connect('app_database.db', check_same_thread=False)
    return conn

conn = get_connection()

def create_table():
    cursor = conn.cursor()
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT NOT NULL,
            email TEXT NOT NULL,
            age INTEGER
        )
    ''')
    conn.commit()

create_table()

# STEP 1: Add UPDATE tab
tab1, tab2, tab3 = st.tabs(["Create", "Read", "Update"])

with tab1:
    st.subheader("‚ûï Create New User")
    with st.form("create_form"):
        name = st.text_input("Name")
        email = st.text_input("Email")
        age = st.number_input("Age", min_value=0, max_value=120)
        submitted = st.form_submit_button("Add User")

        if submitted:
            cursor = conn.cursor()
            cursor.execute("INSERT INTO users (name, email, age) VALUES (?, ?, ?)",
                         (name, email, age))
            conn.commit()
            st.success("User added successfully!")

with tab2:
    st.subheader("üìã Read Users")
    df = pd.read_sql_query("SELECT * FROM users", conn)
    st.dataframe(df, use_container_width=True)
    st.metric("Total Users", len(df))

# STEP 2: Implement UPDATE operation
with tab3:
    st.subheader("‚úèÔ∏è Update User")

    # STEP 3: Get list of users for reference
    df = pd.read_sql_query("SELECT * FROM users", conn)

    if len(df) > 0:
        # Show current users
        st.write("**Current Users:**")
        st.dataframe(df, use_container_width=True)

        st.divider()

        # STEP 4: Create update form
        with st.form("update_form"):
            user_id = st.number_input(
                "User ID to update",
                min_value=1,
                step=1,
                help="Enter the ID of the user you want to update"
            )

            # STEP 5: Show current data for selected user
            if user_id:
                current_user = df[df['id'] == user_id]
                if not current_user.empty:
                    st.info(f"Current name: {current_user.iloc[0]['name']}")

            new_name = st.text_input("New Name")
            new_email = st.text_input("New Email")
            new_age = st.number_input("New Age", min_value=0, max_value=120, value=25)

            update_submitted = st.form_submit_button("Update User", type="primary")

            # STEP 6: Process update
            if update_submitted:
                if new_name:
                    cursor = conn.cursor()
                    # Update all fields
                    cursor.execute(
                        "UPDATE users SET name = ?, email = ?, age = ? WHERE id = ?",
                        (new_name, new_email, new_age, user_id)
                    )
                    conn.commit()

                    # Check if any row was updated
                    if cursor.rowcount > 0:
                        st.success(f"‚úÖ User ID {user_id} updated successfully!")
                        st.rerun()
                    else:
                        st.error(f"‚ùå No user found with ID {user_id}")
                else:
                    st.error("‚ùå Please enter a new name")
    else:
        st.info("No users in database. Add some users first!")

# STEP 7: Explain UPDATE operation
with st.expander("üìö About UPDATE Operations"):
    st.markdown("""
    ### SQL UPDATE Syntax

    ```sql
    UPDATE table_name
    SET column1 = value1, column2 = value2
    WHERE condition;
    ```

    **Example:**
    ```sql
    UPDATE users
    SET name = 'John Doe', age = 30
    WHERE id = 1;
    ```

    **Important:**
    - Always use WHERE clause to specify which row(s) to update
    - Without WHERE, ALL rows will be updated!
    - Use parameterized queries for security
    - Check `cursor.rowcount` to verify update success
    """)

st.divider()
st.caption("Built with Streamlit üéà")

```