```py
"""
Step 7: Adding Survey Statistics
Learning objective: Calculate and display aggregate statistics from submissions
"""

import streamlit as st

st.set_page_config(
    page_title="Simple Survey Form",
    page_icon="ğŸ“‹",
    layout="centered"
)

st.title("ğŸ“‹ Simple Survey Form")
st.write("We'd love to hear your feedback!")

if 'submissions' not in st.session_state:
    st.session_state.submissions = []

with st.form("survey_form"):
    st.subheader("Personal Information")

    name = st.text_input("Full Name*", placeholder="John Doe")
    email = st.text_input("Email*", placeholder="john.doe@example.com")
    age = st.number_input("Age", min_value=13, max_value=120, value=25)

    st.subheader("Feedback")

    rating = st.slider("How would you rate our service?", 1, 5, 3)

    satisfaction = st.radio(
        "Overall satisfaction:",
        ["Very Satisfied", "Satisfied", "Neutral", "Unsatisfied", "Very Unsatisfied"]
    )

    interests = st.multiselect(
        "Areas of interest:",
        ["Technology", "Science", "Arts", "Sports", "Music", "Travel"]
    )

    comments = st.text_area("Additional comments", placeholder="Tell us more...")

    newsletter = st.checkbox("Subscribe to newsletter")

    submitted = st.form_submit_button("Submit Survey", type="primary")

    if submitted:
        if not name or not email:
            st.error("âš ï¸ Please fill in all required fields (marked with *)")
        elif "@" not in email:
            st.error("âš ï¸ Please enter a valid email address")
        else:
            submission = {
                "name": name,
                "email": email,
                "age": age,
                "rating": rating,
                "satisfaction": satisfaction,
                "interests": interests,
                "comments": comments,
                "newsletter": newsletter
            }
            st.session_state.submissions.append(submission)
            st.success("âœ… Thank you for your feedback!")

            with st.expander("ğŸ“Š Your Submission"):
                st.write(f"**Name**: {name}")
                st.write(f"**Email**: {email}")
                st.write(f"**Age**: {age}")
                st.write(f"**Rating**: {'â­' * rating}")
                st.write(f"**Satisfaction**: {satisfaction}")
                if interests:
                    st.write(f"**Interests**: {', '.join(interests)}")
                if comments:
                    st.write(f"**Comments**: {comments}")
                st.write(f"**Newsletter**: {'Yes' if newsletter else 'No'}")

# Show statistics if there are submissions
if st.session_state.submissions:
    st.divider()
    st.subheader("ğŸ“ˆ Survey Statistics")

    total = len(st.session_state.submissions)
    # Calculate average rating from all submissions
    avg_rating = sum(s['rating'] for s in st.session_state.submissions) / total
    # Calculate average age from all submissions
    avg_age = sum(s['age'] for s in st.session_state.submissions) / total

    col1, col2, col3 = st.columns(3)

    with col1:
        st.metric("Total Responses", total)

    with col2:
        st.metric("Average Rating", f"{avg_rating:.1f} â­")

    with col3:
        st.metric("Average Age", f"{avg_age:.0f}")

st.divider()
st.caption("Built with Streamlit ğŸˆ")

```